# “心青年”智能体平台-前端 项目结构设计

## 版本记录
| 日期 | 变更内容 | 关联技术栈/作者 |
|---|---|---|
| 2026-01-11 | 初始创建 | React + Vite + Ant Design |
| 2026-01-12 | 结构完善：补充“社区/专家墙”、“系统管理与运维”、“多端适配”、“权限与路由守卫”、“界面风格与主题”等模块，细化目录说明，强化扩展性与最佳实践 | Copilot (AI) |

## 项目基本信息
- **项目名称**：心青年智能体平台（前端）
- **核心功能**：RAG 智能咨询引擎、统一服务中心（知识库管理、志愿者/专家协同、RBAC 权限）、知识库可视化、人员信息公开、系统管理
- **目标平台**：PC/H5 响应式 Web
- **预期规模**：中型，支持多角色多模块扩展
- **团队规模**：3-6 人（前端）
- **技术栈**：React 18、Vite、Ant Design、React Router、Redux/Context、Axios、E2E 测试（Cypress/Playwright）、i18n
- **代码组织风格**：按功能模块分区，结合通用层级

## 整体结构概览

```
├── public/
├── src/
│   ├── assets/           # 静态资源（图片、SVG、全局样式、主题）
│   ├── components/       # 通用基础组件（Button、Modal、Form等）
│   ├── hooks/            # 通用自定义 Hook
│   ├── layouts/          # 页面布局（主框架、底部栏、返回栏、仪表盘等）
│   ├── pages/            # 业务页面（按功能模块分子目录）
│   │   ├── home/         # 首页/入口页
│   │   ├── consult/      # 智能咨询（RAG 问答）
│   │   ├── knowledge/    # 知识库（贡献/查阅/审核/详情）
│   │   ├── volunteer/    # 志愿者管理（注册、排班、服务记录）
│   │   ├── expert/       # 专家协同（注册、审核、工单池）
│   │   ├── community/    # 社区/专家墙/志愿者墙/公开档案
│   │   ├── admin/        # 管理后台/权限/人员管理/日志
│   │   ├── workspace/    # 统一服务中心（多角色工作台、功能卡片入口）
│   │   ├── auth/         # 登录、注册、分角色注册表单
│   │   ├── my/           # 个人中心、设置、历史工单
│   │   └── ...           # 其他业务模块（如 schedule、tasks、logs 等）
│   ├── store/            # 状态管理（Redux/Context，含权限、主题、用户信息）
│   ├── router/           # 路由配置（动态路由、权限守卫、菜单配置）
│   ├── api/              # API 封装（Axios 实例、接口方法、类型定义）
│   ├── utils/            # 工具函数（格式化、脱敏、权限判断等）
│   ├── i18n/             # 国际化配置（多语言资源、切换逻辑）
│   ├── styles/           # 全局样式、主题变量、Ant Design 定制、响应式适配
│   ├── tests/            # 单元/集成/E2E 测试（Cypress/Playwright）
│   └── main.jsx          # 应用入口
├── .env*                 # 环境变量
├── package.json
├── vite.config.js
├── README.md
└── docs/
  └── “心青年”智能体平台-前端-项目结构.md
```


## 详细目录说明

- **public/**：静态资源根目录，favicon、manifest、静态 HTML。
- **src/assets/**：图片、SVG、全局样式、主题色、响应式断点等。
- **src/components/**：全局可复用 UI 组件（如通用表单、弹窗、卡片、引用来源、专家卡片、状态标签等）。
- **src/hooks/**：自定义 Hook（如 useAuth、useFetch、useDebounce、useRole、useResponsive）。
- **src/layouts/**：页面布局组件（主框架、底部导航栏、顶部返回栏、仪表盘、登录页等）。
- **src/pages/**：按功能模块划分的业务页面：
  - **home/**：首页、Logo、功能宫格、公告等。
  - **consult/**：RAG 智能问答主界面、历史记录、AI/人工切换、引用来源展示。
  - **knowledge/**：知识库贡献（表单/上传）、查阅（Wiki/搜索/分类）、审核流、详情页。
  - **volunteer/**：志愿者注册、资料、排班、任务看板、服务记录、报名与审批。
  - **expert/**：专家注册、审核、工单池、知识审核台、个人资料、资质上传。
  - **community/**：专家墙、志愿者墙、公开档案、筛选与隐私过滤。
  - **admin/**：用户/权限管理、注册审批、系统设置、日志、统计报表、运维监控。
  - **workspace/**：统一服务中心（多角色工作台、功能卡片入口、排班管理、工单大厅、服务历史等）。
  - **auth/**：登录、注册、分角色注册表单、找回密码。
  - **my/**：个人中心、个人设置、历史工单、隐私开关。
  - **schedule/**：排班与活动管理（可独立或归入 workspace）。
  - **tasks/**：任务大厅、工单详情、报名与处理。
  - **logs/**：系统日志、访问日志、隐私脱敏（仅维护人员可见）。
- **src/store/**：全局状态管理（如用户信息、权限、主题、缓存、服务状态等）。
- **src/router/**：路由表、权限路由守卫、动态菜单、页面导航配置。
- **src/api/**：API 封装（Axios 实例、接口分模块组织、类型定义、Mock 支持）。
- **src/utils/**：通用工具函数（如格式化、校验、脱敏、权限判断、数据转换、兜底逻辑）。
- **src/i18n/**：国际化配置（多语言资源、切换逻辑、文案管理）。
- **src/styles/**：全局样式、主题变量、Ant Design 定制、响应式断点、无障碍辅助样式。
- **src/tests/**：单元测试、集成测试、E2E 测试脚本（Cypress/Playwright），覆盖核心业务流与权限流转。
- **src/main.jsx**：应用入口，挂载全局 Provider、Router、主题、国际化等。
- **.env***：环境变量（如 API 地址、Key、构建参数，注意敏感信息隔离）。
- **docs/**：项目文档、设计说明、接口文档、页面原型、流程图。


## 特殊文件说明

| 文件名 | 作用 | 注意事项 |
|--------|------|----------|
| .env* | 环境变量配置 | 区分开发/生产，勿提交敏感信息 |
| vite.config.js | Vite 构建配置 | 支持别名、代理、主题变量、移动端适配 |
| src/main.jsx | 应用入口 | 挂载全局 Provider、Router、主题、i18n |
| src/router/index.js | 路由表 | 支持权限动态路由、菜单隔离、按钮级权限 |
| src/store/index.js | 状态管理入口 | 统一导出 store/context，支持多角色与主题 |
| src/api/ | API 封装 | 按模块拆分，便于维护与 Mock |
| src/pages/ | 业务页面 | 按功能分区，便于扩展与权限隔离 |
| src/components/ | 通用组件 | 复用性高，避免业务耦合，风格统一 |
| src/layouts/ | 布局组件 | 统一风格，支持多布局切换（底部栏/返回栏） |
| src/i18n/ | 国际化 | 预留多语言支持，便于后续国际化扩展 |
| src/tests/ | 测试 | 单元/集成/E2E 全覆盖，重点覆盖权限与主流程 |
| src/styles/ | 全局样式 | 主题色、响应式断点、无障碍辅助 |
| src/pages/community/ | 专家墙/志愿者墙 | 仅展示公开信息，严格隐私过滤 |
| src/pages/admin/logs/ | 运维监控 | 日志脱敏，仅维护人员可见 |


## 模块间依赖关系

- **components**、**hooks**、**utils** 为全局通用层，供各业务模块和布局复用。
- **pages** 依赖 **components**、**hooks**、**api**、**store**，按需组合，按功能分区，便于权限隔离。
- **layouts** 提供页面骨架，嵌套 **pages**，支持底部导航栏与顶部返回栏切换。
- **router** 管理页面跳转、权限校验与动态菜单，结合 **store** 实现多角色隔离与按钮级权限。
- **api** 统一接口调用，便于切换后端服务与 Mock 测试。
- **store** 管理全局状态（用户、权限、主题、服务状态等），供各模块订阅。
- **i18n** 提供多语言能力，供全局调用，支持界面国际化。
- **styles** 提供全局主题、响应式断点、无障碍辅助样式，供各页面和组件复用。


## 扩展性考虑

- 采用“按功能分区+通用层”模式，便于新增业务模块（如后续“多模态交互”、“用户画像”、“情绪识别”等）。
- 组件、Hook、API、状态管理均按模块拆分，支持多人协作与独立开发。
- 路由与权限解耦，支持动态菜单、按钮级权限、角色隔离，便于后续扩展 RBAC 体系。
- 预留国际化、主题切换、响应式适配、无障碍辅助等能力，支持多端与多语言。
- 测试目录支持单元、集成、E2E 全流程，重点覆盖权限流转与主业务流。
- 日志与运维模块独立，便于后续接入监控与自动化运维。


## 最佳实践说明

- 遵循 React 组件化、单向数据流、最小可复用单元原则，所有 UI 组件均应无副作用、可复用。
- 路由与权限解耦，支持动态菜单、按钮级权限、角色隔离，前后端权限模型一致。
- API 层集中管理，便于 Mock、联调与接口变更追踪。
- 状态管理与本地缓存结合，提升性能与体验，支持多端同步。
- 组件、样式、工具函数均模块化，避免全局污染，风格统一。
- 严格区分公开与隐私信息，所有涉及手机号、邮箱等敏感信息的展示均需脱敏或权限校验。
- 文档与测试齐全，便于团队协作与新成员上手，所有主流程与权限流转需有 E2E 测试覆盖。
- 主题与响应式适配遵循“理性的温暖”设计理念，兼顾无障碍与低刺激需求。

---

> 本文档为“心青年”智能体平台前端项目结构设计，后续如有新模块、界面方案或技术栈升级，请在“版本记录”中追加说明。
