# 首页统一服务中心容器 实现计划

## 版本记录
| 日期 | 版本 | 修改内容 | 修改原因 |
|---|---|---|---|
| 2026-01-13 | v1.0 | 初始计划 | 基于研究报告与设计方案 |

## 关联研究
[docs/tasks/02-首页制作与导航/2026-01-13_首页统一服务中心容器_研究报告.md]

## 功能概述
首页需新增“统一服务中心”分区，入口内容完全静态，按设计文档配置。分区与卡片均支持角色控制，依据 user.roles 判断可见性。所有跳转路由与返回逻辑严格参考《前端界面设计方案》。

---

## Phase 1: 分区结构与静态入口搭建

### 目标
在首页 index.jsx 中新增“统一服务中心”分区，入口内容静态配置，结构与 UI风格与设计文档一致。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/pages/home/index.jsx|更新|新增分区与静态入口卡片|
|docs/page-designs/首页-页面设计.md|参考|分区与入口内容规范|
|src/components/SectionContainer/|复用|分区容器组件|
|src/components/Card/|复用|入口卡片组件|

### 具体变更
- 在首页 index.jsx 中，新增 SectionContainer（title="统一服务中心"），内部静态渲染各功能入口卡片。
- 卡片内容、图标、标题、描述参考设计文档。

### 成功标准
- 首页出现“统一服务中心”分区，内容与设计文档一致。
- 所有入口卡片均可正常渲染。

---

## Phase 2: 角色控制逻辑接入

### 目标
分区与卡片均支持角色控制，依据 user.roles 判断可见性。支持多角色叠加。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/pages/home/index.jsx|更新|分区与卡片条件渲染|
|src/store/UserContext.jsx|参考|用户身份体系与权限判断|
|src/store/useUser.js|参考|用户身份 hooks|

### 具体变更
- 使用 useUser 获取 user.roles。
- “统一服务中心”分区仅对非家属（如志愿者、专家、管理员、维护人员）可见。
- 每个卡片配置 allowedRoles，前端判断用户所有角色，满足任一则可见。

### 成功标准
- 家属用户访问首页不显示“统一服务中心”分区。
- 其他角色用户可见分区及自身权限范围内的卡片。

---

## Phase 3: 路由跳转与返回逻辑

### 目标
所有卡片跳转路由规范化，返回逻辑符合设计方案。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/pages/home/index.jsx|更新|卡片跳转路由配置|
|src/router/|更新|如需新增路由，按规范配置|
|docs/“心青年”智能体平台-前端界面设计方案.md|参考|路由与返回逻辑规范|

### 具体变更
- 卡片点击跳转至对应二级页面（如 /workspace/contribute、/admin/users 等）。
- 返回按钮统一采用 history.back()，无历史栈时跳首页。

### 成功标准
- 所有入口卡片跳转目标正确。
- 次级页面返回逻辑符合设计方案。

---

## Phase 4: UI一致性与响应式适配

### 目标
分区与卡片风格、布局、响应式表现与整体 UI 保持一致。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/components/SectionContainer/|参考/微调|风格一致性|
|src/components/Card/|参考/微调|风格一致性|
|src/styles/variables.css|参考|色彩与间距规范|

### 具体变更
- 检查分区与卡片样式，必要时微调以适配首页整体风格。
- 确保移动端/桌面端均表现良好。

### 成功标准
- 首页分区与卡片风格统一，无明显割裂。
- 响应式布局无异常。

---

## Commit Message 模板
feat: 首页统一服务中心容器分区与角色控制实现

## PR 描述要点
- 新增首页“统一服务中心”分区，静态入口内容配置
- 接入 user.roles 角色控制，分区与卡片按权限可见
- 路由跳转与返回逻辑规范化，UI风格一致
- 参考设计文档与研究报告，支持多角色叠加

## 版本记录
| 日期 | 版本 | 修改内容 | 修改原因 |
|---|---|---|---|
| 2026-01-13 | v1.0 | 初始计划 | 基于研究报告与设计方案 |
