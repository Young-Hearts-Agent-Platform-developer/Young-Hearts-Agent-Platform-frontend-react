# 首页统一服务中心容器 研究报告

## 版本记录

| 日期 | 版本 | 修改内容 | 修改原因 |
|---|---|---|---|
| 2026-01-13 | v1.0 | 初始研究报告 | 新增“统一服务中心”容器需求 |
| 2026-01-13 | v1.1 | 明确分区独立与角色控制方案 | 需求澄清与实现调研 |
| 2026-01-13 | v1.2 | 回答开放问题，补充入口与实现方案 | 需求进一步细化 |

## 研究问题

根据最新前端界面设计，补充首页的“统一服务中心”容器，要求与“暖心服务站”分区互相独立，均使用 SectionContainer 作为容器，Card 作为入口卡片。“统一服务中心”需预留接口，便于后续通过角色身份控制（如对患者家属隐藏）。

【2026-01-13 用户补充】
1. 统一服务中心入口与内容规划详见《首页-页面设计.md》，采用静态内容。
2. 角色身份数据来源预计采用 context 方案。
3. 暂不需要更多服务入口。
4. 统一服务中心命名与分区标题保持不变。

## 发现摘要

- 首页当前仅有“暖心服务站”分区，未见“统一服务中心”独立实现。
- SectionContainer 组件支持灵活分区、嵌套与自定义内容，适合承载服务中心等结构化区域。
- Card 组件具备主卡/副卡等多种风格，支持图标、标题、副标题、交互事件，适合作为服务入口。
- 统一服务中心入口与内容以静态配置为主，具体内容参考《首页-页面设计.md》。
- 角色身份数据建议通过 context 提供，便于全局管理与后续扩展。
- Card 组件支持 hidden 属性，可用于条件渲染。

## 相关文件清单

|文件路径|作用说明|关键行号|
|---|---|---|
|src/pages/home/index.jsx|首页主页面，“暖心服务站”分区实现|L60-L110|
|src/components/SectionContainer/README.md|分区容器组件说明与用法|L1-L50|
|src/components/Card/README.md|Card组件说明与用法|L1-L50|


## 当前实现分析

### 现状
首页仅有“暖心服务站”分区，未见“统一服务中心”独立实现。所有分区均通过 SectionContainer 组件承载，内容静态渲染。

### 组件能力
- SectionContainer 支持分区标题、描述、嵌套与自定义内容，适合承载服务中心等结构化区域。
- Card 组件支持主卡/副卡等多种风格，具备 hidden 属性，可用于条件渲染。

### 角色控制与扩展
- 代码未见现成的用户角色、身份、权限 hooks/store/context，暂无统一前端身份体系。
- 角色控制建议由 context 提供用户身份（如 isFamily），决定是否渲染“统一服务中心”分区。
- 可通过 context 方案预留接口，便于后续接入统一身份体系。

### 推荐实现流程

```
HomeLayout
  ├── SectionContainer（title="暖心服务站"）
  │      └── Card ...
  └── SectionContainer（title="统一服务中心"，仅特定角色可见，内容静态配置）
         └── Card ...
```

// 伪代码示例：
const { isFamily } = useUserRoleContext();
return (
  ...existing code...
  {!isFamily && (
    <SectionContainer title="统一服务中心">
      <Card title="服务A" ... />
      <Card title="服务B" ... />
      {/* 具体入口与内容详见首页-页面设计.md，仅静态内容 */}
    </SectionContainer>
  )}
  ...existing code...
)

## 架构洞察

- “统一服务中心”与“暖心服务站”应为完全独立分区，便于权限与内容解耦。
- SectionContainer/Card 组件高度可复用，支持灵活扩展与条件渲染。
- 角色控制建议由 context 统一管理，便于后续接入统一身份体系。
- 入口与内容静态配置，便于前后端协同与维护。

## 潜在风险和边缘情况

- 卡片数量增加时，需关注布局自适应与响应式表现。
- 入口跳转需确保路由与权限校验。
- SectionContainer 与 Card 主题风格需与整体 UI 保持一致。
- 角色判断逻辑需与后端/全局身份体系保持一致，避免前后端不一致导致的越权或误隐藏。

## 开放问题

（本轮已全部明确，无需补充）

## 参考资料

- docs/page-designs/首页-页面设计.md
- src/components/SectionContainer/README.md
- src/components/Card/README.md

