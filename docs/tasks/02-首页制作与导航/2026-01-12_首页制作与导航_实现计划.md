# 首页制作与导航 实现计划

## 版本记录

| 日期 | 版本 | 修改内容 | 修改原因 |
|---|---|---|---|
| 2026-01-12 | v1.0 | 初始计划 | 基于研究报告与设计文档 |

## 关联研究
[docs/tasks/02-首页制作与导航/2026-01-12_首页制作与导航_研究报告.md](docs/tasks/02-首页制作与导航/2026-01-12_首页制作与导航_研究报告.md)

## 功能概述
实现“首页”页面，包含Logo区、主入口卡片（智能体咨询）、副入口卡片（查资料、找帮手）、底部导航。主副入口卡片图标由开发者选用低饱和风格，文案由开发者生成。动画暂不实现，仅预留空态/加载态/错误反馈占位区域。

---


## Phase 1: 基础页面与路由结构搭建

### 目标
- 建立首页主目录与基础路由，布局骨架分区明确，严格对齐设计稿结构。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/pages/home/index.jsx|新增/修改|首页主页面实现|
|src/layouts/HomeLayout.jsx|新增/修改|首页整体布局骨架|
|src/router/index.jsx|修改|首页及相关路由配置|

### 具体变更
1. 新建 `src/pages/home/index.jsx`，导出首页主视图，结构分为：
  - Header（Logo区/标题/副标题）
  - MainCard（主入口卡片）
  - SubCard（副入口卡片，查资料/找帮手）
  - BottomNav（底部导航）
2. 新建/完善 `src/layouts/HomeLayout.jsx`，实现响应式布局：
  - 上半屏为Logo区（高度约40%，内容垂直居中）
  - 下半屏为主副入口卡片区，移动端主卡片整行、副卡片并排，PC端主卡片左、副卡片右侧垂直堆叠
  - 底部导航固定，主内容区与底部有安全间距
3. 路由配置 `/` 指向首页，采用懒加载（React.lazy）
4. 目录结构建议：
  - pages/home/
  - layouts/

#### 代码片段示例
```jsx
// src/pages/home/index.jsx
import HomeLayout from '../../layouts/HomeLayout';
export default function HomePage() {
  return <HomeLayout />;
}
```

### 成功标准
- 自动验证：访问 `/` 正常渲染首页骨架，无报错。
- 手动验证：页面分区结构、响应式布局与设计稿一致。

---


## Phase 2: 主入口/副入口卡片组件开发

### 目标
- 实现主入口卡片（智能体咨询）、副入口卡片（查资料、找帮手），支持多状态与交互，移动端优先响应式，严格对齐设计稿细节。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/components/Card/MainCard.jsx|新增|主入口卡片组件|
|src/components/Card/SubCard.jsx|新增|副入口卡片组件|
|src/components/Card/index.jsx|修改|导出主副卡片|
|src/components/Card/index.css|修改|卡片样式，含圆角、阴影、主色等|

### 具体变更
1. 主入口卡片（MainCard）：
   - 图标：`MdChatBubbleOutline`（react-icons/md），主色 `#4A90E2` 低饱和蓝
   - 主标题“智能体咨询”，副标题“与AI智能体一对一对话”
   - 按钮文案：“开始咨询”，主色填充，圆角 8px
   - 状态：Hover（阴影加深/上浮）、Active（缩放）、Disabled（灰化）、Focus（主色描边）
   - 响应式：移动端整行，PC端左侧主区
2. 副入口卡片（SubCard）：
   - 查资料：`MdMenuBook`，主标题“查资料”，副标题“知识库快速检索”
   - 找帮手：`MdVolunteerActivism`，主标题“找帮手”，副标题“专家/志愿者墙”
   - 状态：Hover、Tap、Disabled
   - 响应式：移动端并排，PC端右侧垂直堆叠
3. 组件 props 设计：支持 loading/disabled/aria-label
4. 样式：白色卡片、圆角 8px、阴影、主色按钮、对比度高
5. 导出主副卡片于 `index.jsx`，样式集中于 `index.css`

#### 代码片段示例
```jsx
// src/components/Card/MainCard.jsx
import { MdChatBubbleOutline } from 'react-icons/md';
export default function MainCard({ onClick, loading, disabled }) {
  return (
    <div className="main-card" tabIndex={0} aria-label="智能体咨询" onClick={onClick}>
      <MdChatBubbleOutline className="main-card-icon" />
      <div className="main-card-title">智能体咨询</div>
      <div className="main-card-desc">与AI智能体一对一对话</div>
      <button className="main-card-btn" disabled={disabled || loading}>开始咨询</button>
    </div>
  );
}
```

### 成功标准
- 自动验证：组件渲染无报错，样式lint通过（如 `npm run lint:css`）。
- 手动验证：主副卡片内容、交互、响应式表现、无障碍属性符合设计。

---


## Phase 3: 顶部Logo区与底部导航栏实现

### 目标
- 实现Header（Logo区）与BottomNav（底部导航），适配安全区与无障碍，严格对齐设计稿视觉与交互。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/components/Header/index.jsx|新增/完善|Logo区组件|
|src/components/Header/index.css|新增/完善|Logo区样式|
|src/components/BottomNav/index.jsx|新增/完善|底部导航栏组件|
|src/components/BottomNav/index.css|新增/完善|底部导航栏样式|

### 具体变更
1. Header：
   - 品牌Logo（如MdFavorite，圆角、低饱和主色）
   - 主标题“心青年智能体平台”，副标题“陪伴·成长·互助”
   - 垂直居中，左右留白适中，背景色云雾灰
   - 字体主色深灰蓝，副标题低饱和
   - 无交互，仅展示
2. BottomNav：
   - 首页（MdHome）、个人中心（MdPerson）Tab，主色高亮，辅助色未选
   - 固定底部，适配安全区，内容居中
   - 支持 aria-label、tabIndex，主色激活、Hover 态主色描边
   - 响应式：移动端固定，PC端底部居中

#### 代码片段示例
```jsx
// src/components/Header/index.jsx
import { MdFavorite } from 'react-icons/md';
export default function Header() {
  return (
    <header className="home-header" aria-label="平台Logo区">
      <MdFavorite className="home-logo" />
      <div className="home-title">心青年智能体平台</div>
      <div className="home-subtitle">陪伴·成长·互助</div>
    </header>
  );
}
```

### 成功标准
- 自动验证：组件渲染无报错。
- 手动验证：Logo区与底部导航样式、交互、无障碍表现、响应式布局符合设计。

---


## Phase 4: 交互与跳转逻辑实现

### 目标
- 实现主副入口卡片点击跳转对应页面，无动画，交互无障碍。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/pages/home/index.jsx|修改|卡片点击跳转逻辑|
|src/router/index.jsx|修改|完善路由配置|

### 具体变更
1. 主入口卡片点击跳转 `/consultation`（如无页面，先创建占位页）
2. 副入口卡片点击跳转 `/knowledge`、`/community`（如无页面，先创建占位页）
3. 路由配置完善，支持懒加载
4. 跳转用 `useNavigate`（react-router v6），支持键盘可达
5. 卡片支持 aria-pressed/aria-label，按钮支持 tabIndex

#### 代码片段示例
```jsx
// src/pages/home/index.jsx
import { useNavigate } from 'react-router-dom';
// ...
const navigate = useNavigate();
<MainCard onClick={() => navigate('/consultation')} />
<SubCard type="knowledge" onClick={() => navigate('/knowledge')} />
<SubCard type="community" onClick={() => navigate('/community')} />
```

### 成功标准
- 自动验证：点击卡片路由跳转无误。
- 手动验证：跳转目标页面正确，交互无障碍。

---


## Phase 5: 空态/加载态/错误反馈占位

### 目标
- 预留标准反馈区域，结构、样式、文案对齐设计稿，便于后续扩展。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/pages/home/index.jsx|修改|空态/加载态/错误反馈占位|
|src/components/Card/index.jsx|修改|卡片内部占位|

### 具体变更
1. 预留 `<div className="empty-state-placeholder" />`、`<div className="loading-placeholder" />`、`<div className="error-placeholder" />`，并加注释
2. 加载态：居中圆形 Spinner（主色 `#4A90E2`），文案“加载中...”
3. 空态：插图高度 140px，说明文字 14px，主色按钮，圆角 8px
4. 错误态：错误文案红色 `#E02424`，字号 12px，控件下方 6px 间距
5. 样式参考设计文档，便于后续插入真实逻辑

#### 代码片段示例
```jsx
// src/components/Card/MainCard.jsx
{loading && <div className="loading-placeholder"><Spinner />加载中...</div>}
{error && <div className="error-placeholder">出错了，请重试</div>}
{empty && <div className="empty-state-placeholder">暂无内容</div>}
```

### 成功标准
- 自动验证：占位区域渲染无报错。
- 手动验证：占位区域样式、文案、结构与设计一致。

---


## Phase 6: 全局样式与无障碍适配

### 目标
- 统一色彩、圆角、对比度，确保可访问性，严格对齐设计稿色彩令牌与a11y规范。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/styles/variables.css|修改|主色、圆角、阴影等变量|
|src/components/|修改|各组件无障碍属性完善|

### 具体变更
1. 统一主色 `#4A90E2`，圆角 `8px`，阴影、对比度、禁用色、辅助色等
2. 变量命名如 `--color-primary`、`--radius-md`、`--shadow-card`，并在组件中引用
3. 组件补充 aria-label、tabIndex、aria-pressed、aria-disabled 等无障碍属性
4. 对比度检查：正文与背景 ≥ 4.5:1，按钮文字与主色背景通过 WCAG 检查
5. 响应式断点、字体、行高等全局规范

#### 验证命令
- 样式lint：`npm run lint:css`
- a11y 检查：推荐使用 axe、lighthouse 等工具

### 成功标准
- 自动验证：样式lint、a11y检查通过。
- 手动验证：对比度、键盘可达性、无障碍属性符合设计。

---

## PR Commit Message 模板

feat: 首页制作与导航基础实现

- 完成首页分区布局、主副入口卡片、Logo区与底部导航栏
- 支持主副入口卡片点击跳转，无动画
- 预留空态/加载态/错误反馈占位
- 响应式与无障碍适配

## 版本记录

| 日期 | 版本 | 修改内容 | 修改原因 |
|---|---|---|---|
| 2026-01-12 | v1.0 | 初始计划 | 基于研究报告与设计文档 |
