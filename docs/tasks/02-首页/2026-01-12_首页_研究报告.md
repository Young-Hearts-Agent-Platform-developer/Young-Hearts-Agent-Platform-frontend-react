# 首页 研究报告

## 版本记录

| 日期 | 版本 | 修改内容 | 作者 |
|---|---|---|---|
| 2026-01-12 | v1.0 | 初始设计 | Researcher |

## 研究问题

研究如何实现“心青年”智能体平台的首页（Home），并确保其可访问性与设计一致性。

## 发现摘要

- 首页采用 HomeLayout 统一结构，顶部 Header、底部 BottomNav，主内容区由业务页面注入。
- 设计方案强调“理性的温暖”，主色调静谧蓝，风格 calm/reliable/accessible，强调大字体、高易读性、低刺激。
- 可访问性要求明确：大字体、对比度友好、符合 WCAG 标准，避免高饱和色与剧烈动效。
- 设计一致性通过 variables.css 主题变量、Ant Design Mobile 组件封装实现。
- 首页核心入口区采用“Logo+1+2”布局，主入口为智能体咨询，大卡片，副入口为查资料、找帮手。

## 相关文件清单

|文件路径|作用说明|关键行号|
|---|---|---|
|src/layouts/HomeLayout.jsx|首页/一级页面布局组件|1-40|
|src/layouts/README.md|布局组件说明与用法|1-50|
|src/components/Header/README.md|Header 组件设计与用法|1-20|
|src/components/BottomNav/README.md|底部导航组件设计与用法|1-20|
|docs/“心青年”智能体平台-前端界面设计方案.md|整体界面设计原则|1-80|
|docs/“心青年”智能体平台-前端-项目结构.md|前端目录与模块说明|1-80|
|docs/“心青年”智能体平台-技术栈设计.md|前端技术选型|1-40|
|docs/“心青年”智能体平台-功能文档.md|平台功能总览|1-40|

## 当前实现分析

### 结构与组件
- 首页采用 HomeLayout 组件（src/layouts/HomeLayout.jsx），结构为顶部 Header、主内容区、底部 BottomNav。
- Header 组件基于 Ant Design Mobile NavBar 封装，支持主副标题、右侧操作区，风格统一主色、圆角、字体。
- BottomNav 组件基于 Ant Design Mobile TabBar 封装，固定“首页”“我的”两项，主色、圆角、响应式。
- 主题与响应式样式由 src/styles/variables.css 控制。

### 设计一致性
- 设计方案（docs/“心青年”智能体平台-前端界面设计方案.md）强调静谧蓝主色（#4A90E2）、辅助色、背景色、文本色等统一变量。
- 一级页面（首页、个人中心）均用 HomeLayout，二级页面用 SubLayout，导航与内容区分明确。
- 组件 props 规范，Header/BottomNav/HomeLayout 均有详细参数说明。

### 可访问性措施
- 设计文档要求大字体、高对比度、低刺激色彩，避免剧烈动效。
- 组件封装时可通过 aria- 属性、tabIndex、role 等增强可访问性（但当前代码未见显式 aria 标签，建议补充）。
- 主题变量支持高对比度模式扩展。

### 核心流程

```
[路由切换] → [HomeLayout]
    ├─ Header（主副标题/Logo/右侧操作）
    ├─ main（业务内容区）
    └─ BottomNav（tab 切换“首页/我的”）
```

### 关键代码片段

- HomeLayout 结构（src/layouts/HomeLayout.jsx）

```jsx
<div className="yh-home-layout" style={{ minHeight: '100vh', display: 'flex', flexDirection: 'column' }}>
  <Header title={title} subtitle={subtitle} rightActions={rightActions} />
  <main style={{ flex: 1, width: '100%' }}>{children}</main>
  <BottomNav activeKey={activeKey} onTabChange={onTabChange} />
</div>
```

- Header 用法（src/components/Header/README.md）

```jsx
<Header title="首页" subtitle="副标题" showBack rightActions={<span>设置</span>} />
```

- BottomNav 用法（src/components/BottomNav/README.md）

```jsx
<BottomNav activeKey="home" onTabChange={key => setTab(key)} />
```

## 架构洞察
- 采用布局组件分层（HomeLayout/SubLayout），保证一级/二级页面风格与交互一致。
- 主题变量集中管理，便于全局风格调整与无障碍模式扩展。
- 组件 props 规范，便于后续自动化测试与可访问性增强。

## 潜在风险和边缘情况
- 当前未见显式 aria-、role、tabIndex 等可访问性标签，建议补充。
- 主题变量如未覆盖全部场景，可能导致局部样式不一致。
- 首页主入口区如有大图/动效，需注意低刺激与加载性能。

## 开放问题
- 是否有针对特定障碍群体的无障碍适配需求？
- 首页主内容区的动态内容（如公告、推荐）是否有额外可访问性要求？
- 主题切换（高对比度/暗色模式）是否有后续规划？

## 参考资料
- docs/“心青年”智能体平台-前端界面设计方案.md
- docs/“心青年”智能体平台-前端-项目结构.md
- docs/“心青年”智能体平台-技术栈设计.md
- Ant Design Mobile 官方文档

## 版本记录
| 日期 | 修改内容 | 修改原因 |
|---|---|---|
| 2026-01-12 | 初始创建 | 首页实现与可访问性、设计一致性研究 |
