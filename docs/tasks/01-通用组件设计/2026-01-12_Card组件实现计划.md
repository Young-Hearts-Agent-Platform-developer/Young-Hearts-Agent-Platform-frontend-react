# Card 组件 实现计划

## 版本记录

| 日期 | 版本 | 修改内容 | 修改原因 |
|---|---|---|---|
| 2026-01-12 | v1.0 | 初始计划 | 基于研究报告与用户澄清 |

## 关联研究
[docs/tasks/01-通用组件设计/2026-01-12_Card组件_研究报告.md](../../docs/tasks/01-通用组件设计/2026-01-12_Card组件_研究报告.md)

## 功能概述
实现通用 Card 组件，支持主卡/副卡/分类卡/专家卡多种风格，具备高度可复用性，适配首页、个人中心、知识库大厅、workplace 等页面入口卡片需求。支持插槽/props自定义内容、图标、按钮、状态、隐藏等，兼容响应式与无障碍。

---

## Phase 1: Card 组件基础实现

### 目标
- 实现 Card 组件主结构，支持 type、title、subtitle、icon、buttonText、onClick、disabled、hidden 等 props。
- 支持主卡/副卡/分类卡/专家卡四种风格。
- 提供基础样式文件，风格参考设计文档与现有组件风格。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/components/Card/index.jsx|新增|Card 组件主实现|
|src/components/Card/index.css|新增|Card 组件样式|
|src/components/Card/README.md|新增|用法说明|

### 具体变更
- 新建 Card 组件目录及文件，导出函数式组件。
- props 设计：type、title、subtitle、icon、buttonText、onClick、disabled、hidden、children。
- type 支持 "main" | "sub" | "category" | "expert"，决定样式。
- hidden 为 true 时不渲染。
- 结构支持插槽/自定义内容。
- index.css 提供圆角、阴影、色彩、交互等基础样式。

### 成功标准
- 自动验证：组件渲染快照测试通过。
- 手动验证：在 Storybook/测试页中可切换不同 type，props 生效，hidden 时不渲染。

---

## Phase 2: 响应式与无障碍适配

### 目标
- 适配移动端与PC端，支持响应式布局。
- 支持键盘可达、ARIA 属性、无障碍色彩对比。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/components/Card/index.css|更新|补充响应式与无障碍样式|
|src/components/Card/index.jsx|更新|补充无障碍属性|

### 具体变更
- 使用媒体查询适配不同屏幕尺寸。
- 按钮/卡片支持键盘操作与 ARIA 标签。
- 色彩对比度符合无障碍规范。

### 成功标准
- 自动验证：样式快照、无障碍检测工具通过。
- 手动验证：移动端/PC端显示正常，Tab 可聚焦，屏幕阅读器可识别。

---

## Phase 3: 交互状态与主题适配

### 目标
- 完善 Hover/Active/Disabled/Focus 等交互状态。
- 支持 CSS 变量，便于主题切换。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/components/Card/index.css|更新|交互状态、主题变量|
|src/styles/variables.css|更新|如需新增主题变量|

### 具体变更
- index.css 增加各状态样式，引用全局变量。
- 主题色、圆角、阴影等通过 CSS 变量控制。

### 成功标准
- 自动验证：交互状态快照测试。
- 手动验证：鼠标/键盘/触屏下交互正常，主题切换样式同步。

---

## Phase 4: 业务页面集成与用例

### 目标
- 在首页、个人中心、知识库大厅、workplace 等页面集成 Card 组件。
- 替换原有入口卡片实现，统一风格。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/pages/home/|更新|首页入口卡片调用 Card|
|src/pages/my/|更新|个人中心入口卡片调用 Card|
|src/pages/knowledge/|更新|知识库大厅入口卡片调用 Card|
|src/pages/workspace/|更新|workplace 入口卡片调用 Card|

### 具体变更
- 替换/新增入口卡片区域，按需传递 type、hidden、onClick 等 props。

### 成功标准
- 自动验证：页面渲染测试通过。
- 手动验证：各页面入口卡片风格统一，hidden 控制生效。

---

## Phase 5: 单元测试与文档完善

### 目标
- 完善 Card 组件单元测试。
- 编写 README，提供用法示例。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/tests/components/Card.test.jsx|新增|Card 组件测试|
|src/components/Card/README.md|更新|用法、API 说明|

### 具体变更
- 测试 type、hidden、交互、无障碍等。
- README 说明 props、用法、注意事项。

### 成功标准
- 自动验证：测试全部通过。
- 手动验证：文档完整、示例可复现。

---

## PR 提交模板

**commit message**：feat: 新增通用 Card 组件及多页面集成

**PR 描述要点**：
- 新增 Card 组件，支持多种风格与隐藏控制
- 响应式、无障碍、交互状态完善
- 集成至首页、个人中心、知识库大厅、workplace 等页面
- 完善单元测试与文档

