# 首页排版与卡片布局优化 实现计划

## 版本记录

| 日期 | 版本 | 修改内容 | 修改原因 |
|---|---|---|---|
| 2026-01-12 | v1.0 | 初始计划 | 基于 2026-01-12 研究报告 |

## 关联研究
[docs/tasks/03-首页排版与卡片布局优化/2026-01-12_首页排版与卡片布局优化_研究报告.md](docs/tasks/03-首页排版与卡片布局优化/2026-01-12_首页排版与卡片布局优化_研究报告.md)

## 功能概述
本计划旨在修复首页在移动端的排版与卡片布局问题，包括：窗口未全屏、内容未居中、Header/BottomNav 未固定、卡片背景色缺失、主副卡片宽度不一致等。目标是实现移动端友好、视觉统一、交互合理的首页体验。

---


## Phase 1: 修正全局样式（移动端全屏与PC端模拟移动端）

### 目标
- 移除影响全屏与居中的全局样式，使页面内容在移动端自动填满屏幕。
- PC端访问时，内容区域居中显示，并限制最大宽度，模拟主流手机（如 375px~430px）屏幕宽度。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/index.css|更新|移除 body 的 display: flex 和 place-items: center，补充响应式样式|
|src/App.css|更新|移除 #root 的 padding 和 max-width，补充 PC端最大宽度限制|

### 具体变更
- 删除 `body` 的 `display: flex`、`place-items: center`。
- 删除 `#root` 的 `padding: 2rem`、`max-width: 1280px`。
- 新增响应式样式：
   - 移动端（max-width: 600px）：内容自动填满屏幕。
   - PC端：内容区域居中，最大宽度 430px（参考主流手机屏幕），两侧自动留白。

### 成功标准
- 自动验证：移动端页面内容可流式填满屏幕，PC端内容区域居中且最大宽度受限。
- 手动验证：移动端浏览器访问首页，内容左右无明显空白；PC端访问时，内容区域宽度与主流手机一致，居中显示。

---

## Phase 2: 固定 Header 与 BottomNav

### 目标
- 让 Header 固定在顶部、BottomNav 固定在底部，中间内容区域可滚动。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/layouts/HomeLayout.jsx|更新|调整布局结构与样式，支持头尾固定|
|src/components/Header/index.css|如需|补充 position: fixed 样式（如未有）|
|src/components/BottomNav/index.css|如需|补充 position: fixed 样式（如未有）|

### 具体变更
- HomeLayout 外层容器设为 `height: 100vh; overflow: hidden; display: flex; flex-direction: column;`。
- Header、BottomNav 设为 `position: fixed`（或 sticky），宽度 100%，z-index 提升。
- main 区域 `flex: 1; overflow-y: auto; margin-top/bottom` 预留头尾高度。

### 成功标准
- 自动验证：main 区域可滚动，头尾始终可见。
- 手动验证：滚动内容时 Header/BottomNav 不随内容滚动。

---


## Phase 3: 统一卡片及相关变量适配

### 目标
- Card 组件及相关样式优先主动适配 src/styles/variables.css 中已有变量。
- 若 variables.css 中不存在合适变量，则按照已有如 --color-bg 这类命名规范，建立新的变量，供组件使用。
- 适配包括背景色、阴影、字体、边框等所有可控样式，保持变量命名规范性。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/components/Card/index.css|更新|优先适配 variables.css 变量，补充所有可控样式变量|
|src/styles/variables.css|更新|如无合适变量，按规范补充新变量（如 --color-card-bg、--color-card-shadow、--color-card-border、--color-card-font 等）|

### 具体变更
- Card 组件 CSS 变量全部优先与 variables.css 对齐，适配背景色、阴影、字体、边框等。
- 若 variables.css 中无合适变量，则补充新变量，命名如 --color-card-bg、--color-card-shadow 等，保持与现有变量风格一致。

### 成功标准
- 自动验证：卡片背景色、阴影、字体、边框等样式均由变量控制，变量命名规范统一。
- 手动验证：卡片与页面背景有明显区分，视觉风格统一，变量可复用。

---

## Phase 4: 优化首页主副卡片布局

### 目标
- 主卡片与副卡片宽度一致，副卡片并列时自适应平分空间。

### 修改文件清单
|文件路径|修改类型|说明|
|---|---|---|
|src/pages/home/index.jsx|更新|副卡片容器与卡片样式调整|
|src/components/Card/index.css|如需|补充副卡片 flex: 1 样式|

### 具体变更
- 副卡片容器 `display: flex; gap: 16px;`，子卡片 `flex: 1; min-width: 0;`。
- 主卡片与副卡片宽度对齐。

### 成功标准
- 自动验证：副卡片宽度一致，主副卡片宽度对齐。
- 手动验证：视觉上主副卡片宽度一致，副卡片并列无断行。

---

## 验证步骤（全局）
1. 启动开发环境，访问首页。
2. 使用 Chrome DevTools 移动端模式，检查：
   - 页面内容是否填满屏幕且居中。
   - Header/BottomNav 是否固定。
   - 卡片背景色是否正常。
   - 主副卡片宽度是否一致。
3. 手动滚动、点击卡片，观察交互无异常。

---

## Commit message 模板
fix: 首页移动端排版与卡片布局优化

- 修正全局样式，支持全屏与居中
- 固定 Header/BottomNav
- 统一卡片背景色变量
- 优化主副卡片宽度一致性

## PR 描述要点
- 详述每个 Phase 的变更点与验证方式
- 说明对全局样式的影响范围
- 附带前后对比截图

