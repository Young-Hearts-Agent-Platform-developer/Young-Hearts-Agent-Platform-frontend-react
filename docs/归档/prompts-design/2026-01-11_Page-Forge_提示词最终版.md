# Page-Forge 提示词（设计/优化）完整报告
## 报告日期
2026-01-11

## 核心需求
升级智能体能力，使其具备“自主检索”特性：仅接受页面美术设计文档作为唯一输入，其余上下文（技术栈、路由设计、项目指令）需智能体自动在 `docs/` 与 `.github/` 中搜索并读取，最终依据全量信息生成代码。

## 目标文件上下文详情
- 文件路径： .github/agents/Page-Forge.agent.md
- 文件用途：前端页面生成的专用智能体。
- 上下文核心：依托 `docs/“心青年”智能体平台-技术栈设计.md` 与 `docs/“心青年”智能体平台-前端界面设计方案.md` 确保技术一致性。
- 适配逻辑：通过强制阅读指令，让智能体在生成代码前“先学习”项目规范，解决以往需要用户手动投喂所有文档的繁琐。

## 设计/优化详情
### 核心设计思路
- **自动化上下文获取**：在“执行流程”的第一步强制植入“检索与阅读”动作，明确指定需读取的文件路径。
- **输入降噪**：明确“输入要求”只接受设计稿，减少用户认知负担。
- **YAML Frontmatter 规范化**：添加 `name`、`description` 和 `argument-hint`，适配 Agent 模式的标准交互体验。

### 优化点（与上一版对比）
|原提示词问题|优化方案|优化效果|
|---|---|---|
|需要用户手动粘贴技术栈与指令|增加“主动检索与阅读”流程步骤，指定具体文档路径|极大简化用户操作，保证规范零遗漏|
|缺少 Frontmatter 元数据|添加符合 `.github/YAML_frontmatter.md` 规范的头部信息|在聊天界面提供清晰的引导与名称显示|
|流程偏向被动接收|转变为“主动搜集信息 + 被动接收设计稿”的混合模式|智能体更具主动性，产出更精准适配项目|

### 验证过程与结果
- 模拟输出示例：
    - 用户输入：“生成个人中心页，包含头像上传和昵称修改。”
    - 智能体行为：
        1. 搜寻 `技术栈设计.md` -> 确认使用 Vite+React+TS。
        2. 搜寻 `界面设计方案.md` -> 确认个人中心路由为 `/user/profile`。
        3. 生成代码：`src/pages/User/Profile.tsx`，使用原子 CSS 或 CSS Modules（视技术栈文档而定）。
- 验证维度：
  - 需求匹配度：✓ 符合（仅需设计稿输入）
  - 上下文适配度：✓ 贴合（自动引用项目既定文档）
  - 角色清晰度：✓ 清晰（自主的前端工程师）
  - 流程可执行性：✓ 可执行（路径明确）
  - 输出合规性：✓ 合规（frontmatter 完备）

## 使用指南
- 适用场景：已有完善 `docs/` 文档库的项目，快速进行页面开发。
- 调整建议：若项目文档路径发生变更，需同步更新提示词中的“自主检索”路径。
- 常见问题：若智能体无法读取文件（如权限问题），需确保其运行环境具备文件系统读取权限（`read_file`）。

## 版本记录
|日期|修改内容|修改原因|
|---|---|---|
|2026-01-11|初始设计/优化完成|满足用户核心需求：生成可落地的页面代码与交付清单|
|2026-01-11|升级为自主检索模式|简化用户输入，增强上下文一致性，补充YAML Frontmatter|
